***************************************db ç®€å•å®ç”¨***************************************
æ•°æ®åº“ç®€å•å®ç”¨ï¼š
1.ç»§æ‰¿DBManagerï¼Œå®ç°onCreateï¼ŒonUpgradeæ–¹æ³•ï¼ŒonCreateæ–¹æ³•ä¸­å»ºè¡¨ï¼ŒonUpgradeæ›´æ–°è¡¨æ“ä½œã€‚
2.ç»§æ‰¿DBManagerï¼ŒgetSDBæ–¹æ³•è·å–dbè¿›è¡Œæ•°æ®åº“æ“ä½œã€‚
3.ç»§æ‰¿DbDao,å®Œæˆdbä¸šåŠ¡å¤„ç†ã€‚

***************************************Sqlite3***************************************
ğŸ‘ŒSqlite3è¯­å¥ï¼š
å‚è€ƒç½‘å€ï¼šhttp://www.jb51.net/article/38550.htm
http://blog.csdn.net/linchunhua/article/details/7184439
http://www.sqlite.org/datatype3.html
>å…³é”®å­—
limit åç§»é‡ï¼Œè·å–çš„è®°å½•æ•°ä½¿ç”¨åœ¨åˆ†é¡µæŸ¥è¯¢
order by
having
group by
where
like
>å­—æ®µç±»å‹
TEXT    æ–‡æœ¬
NUMERIC æ•°å€¼
INTEGER æ•´å‹
REAL    å°æ•°
NONE    æ— ç±»å‹
smallint 16ä½çš„æ•´æ•°ã€‚
interger 32ä½çš„æ•´æ•°ã€‚
decimal(p,s) ç²¾ç¡®å€¼pæ˜¯æŒ‡å…¨éƒ¨æœ‰å‡ ä¸ªåè¿›åˆ¶æ•°,sæ˜¯æŒ‡å°æ•°ç‚¹åå¯ä»¥æœ‰å‡ ä½å°æ•°ã€‚å¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡å®šï¼Œåˆ™ç³»ç»Ÿä¼šé»˜è®¤ä¸ºp=5 s=0 ã€‚
float  32ä½å…ƒçš„å®æ•°ã€‚
double  64ä½å…ƒçš„å®æ•°ã€‚
char(n)  n é•¿åº¦çš„å­—ä¸²ï¼Œnä¸èƒ½è¶…è¿‡ 254ã€‚
varchar(n) é•¿åº¦ä¸å›ºå®šä¸”å…¶æœ€å¤§é•¿åº¦ä¸º n çš„å­—ä¸²ï¼Œnä¸èƒ½è¶…è¿‡ 4000ã€‚
graphic(n) å’Œ char(n) ä¸€æ ·ï¼Œä¸è¿‡å…¶å•ä½æ˜¯ä¸¤ä¸ªå­—èŠ‚ï¼Œ nä¸èƒ½è¶…è¿‡127ã€‚è¿™ä¸ªå½¢æ€æ˜¯ä¸ºäº†æ”¯æŒä¸¤ä¸ªå­—èŠ‚é•¿åº¦çš„å­—ä½“ï¼Œå¦‚ä¸­æ–‡å­—ã€‚
vargraphic(n) å¯å˜é•¿åº¦ä¸”å…¶æœ€å¤§é•¿åº¦ä¸ºnçš„åŒå­—å…ƒå­—ä¸²ï¼Œnä¸èƒ½è¶…è¿‡2000
date  åŒ…å«äº† å¹´ä»½ã€æœˆä»½ã€æ—¥æœŸã€‚
time  åŒ…å«äº† å°æ—¶ã€åˆ†é’Ÿã€ç§’ã€‚
timestamp åŒ…å«äº† å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’ã€åƒåˆ†ä¹‹ä¸€ç§’ã€‚

>è¡¨çš„æ“ä½œ
ä¸€ã€åˆ›å»º
1.åˆ›å»ºä¸€ä¸ªè¡¨
create table person (personId integer primary  key auto increment ,name varchar(20));

äºŒã€åˆ é™¤
1.åˆ é™¤ä¸€ä¸ªå­˜åœ¨çš„è¡¨
drop table if exists person
drop table_name;     åˆ é™¤è¡¨ï¼›
drop index_name;     åˆ é™¤ç´¢å¼•ï¼›

ä¸‰ã€æ›´æ–°
1.è¡¨é‡Œå¢åŠ ä¸€ä¸ªå­—æ®µ
alter table person add phone archer(12) null
SQLite ä»…ä»…æ”¯æŒ ALTER TABLE è¯­å¥çš„ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ ALTER TABLE è¯­å¥æ¥æ›´æ”¹ä¸€ä¸ªè¡¨çš„åå­—ï¼Œä¹Ÿå¯å‘è¡¨ä¸­å¢åŠ ä¸€ä¸ªå­—æ®µï¼ˆåˆ—ï¼‰ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½åˆ é™¤ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å­—æ®µï¼Œæˆ–è€…æ›´æ”¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å­—æ®µçš„åç§°ã€æ•°æ®ç±»å‹ã€é™å®šç¬¦ç­‰ç­‰ã€‚

æ”¹å˜è¡¨å - ALTER TABLE æ—§è¡¨å RENAME TO æ–°è¡¨å

å¢åŠ ä¸€åˆ— - ALTER TABLE è¡¨å ADD COLUMN åˆ—å æ•°æ®ç±»å‹

è§£å†³æ–¹å¼ï¼š

1ã€å°†è¡¨æ˜æ”¹ä¸ºä¸´æ—¶è¡¨

alter table â€˜student1â€™ rename to student_old_1;

2ã€åˆ›å»ºæ–°è¡¨

create table â€˜student1â€™ (id integer primary key autoIncrement ,name text);

3.å¯¼å…¥æ•°æ®

insert into â€™studentâ€™ (â€˜idâ€™,â€™nameâ€™) select â€˜idâ€™,â€™titleâ€™ from â€™student_old_1';


>æ•°æ®çš„æ“ä½œï¼š
ä¸€ã€åˆ›å»ºï¼ˆCreateï¼‰

äºŒã€åˆ é™¤(Delete)
1.åˆ é™¤ä¸€æ¡æ•°æ® personId = ?
delete from person where personId = ?;


ä¸‰ã€æ›´æ–°(Update)
1.æ›´æ–°ä¸€æ¡æ•°æ® personId = ?çš„phone & name å­—æ®µ
update person set phone=?,name = ? where personId = ?;

å››ã€æ’å…¥(Insert)
1.å¾€è¡¨é‡Œæ’å…¥ä¸€æ¡æ•°æ®
insert into person(name,age) values (â€˜åå­—â€™,4)

äº”ã€æŸ¥è¯¢(Select or Retrieve)
1.æŸ¥è¯¢ä¸€ä¸ªè¡¨çš„æ‰€æœ‰æ•°æ®
select * from person
2.æŸ¥è¯¢ä¸€ä¸ªåŠ æ¡ä»¶çš„è¡¨æ•°æ®  like = å­—æ®µå«æœ‰
select * from person where userName like '%name%â€™;
select * form person where name like %ç‹% and age=21
3.æŸ¥è¯¢perosnId = ï¼Ÿçš„æ•°æ® (db.rawQuery())
select * from person where personId = ?;
4.å¾—åˆ°è®°å½•æ•° personè¡¨æ•°æ®æ¡æ•°
select count(*) from personï¼›
5.åˆ†é¡µæŸ¥è¯¢æ•°æ® page,count
select * from person limit ?,?;


***************************************ä¾‹å­***************************************
/*
 * åˆ›å»ºç”¨æˆ·è¡¨ -- ç”¨ä¾‹
 */
private void createPersonTable(SQLiteDatabase db) {
    StringBuilder builder = new StringBuilder();
    builder.append("CREATE TABLE IF NOT EXISTS _person");
    builder.append("(");
    builder.append("id INTEGER PRIMARY KEY AUTOINCREMENT,");
    builder.append("teacherId VARCHAR UNIQUE,");
    builder.append("userName VARCHAR,");
    builder.append("teacherName VARCHAR");
    builder.append(");");
    db.execSQL(builder.toString());
}

/**
 * æ›´æ–°ç”¨æˆ·è¡¨ å¢åŠ å­—æ®µ 1.4.0
 *
 * @param db
 */
private void updatePersonTable(SQLiteDatabase db) {
    StringBuilder builder = new StringBuilder();
    db.execSQL("alter table _person rename to _temp_person");
    createPersonTable(db);
    db.execSQL("insert into _person select *,'','','' from _temp_person");
    db.execSQL("drop table _temp_person");
}

/**
 * åˆ é™¤ä¸€ä¸ªè¡¨(åŒ…æ‹¬æ•°æ®)
 *
 * @param db
 * @param tableName
 */
private void dropTable(SQLiteDatabase db, String tableName) {
    db.execSQL(new StringBuilder().append("DROP TABLE IF EXISTS ").append(tableName).toString());
}